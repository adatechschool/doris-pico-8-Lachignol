pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
--jeux-pico8


function _init()
create_player()

end
 
function _update()
player_movement()
end
	
function _draw()


--clear interface

cls()

--draw map on left corner

map(0,0,0,0)

--draw sprit number 1 at xy point
affichage_perso()

end
-->8
--map

function check_flag(flag,x,y)
--recuperer flag sur la position
sprite=mget(x,y)
return fget(sprite,flag)
end
-->8
--player



function create_player()
--on donne la position du sprite au depart
--puis la numero de sprite
perso={x=5,y=5,sprite=1}
end

function player_movement()
neox=perso.x
neoy=perso.y

	if (btn(➡️)) neox+=1
	if (btn(⬅️)) neox-=1
	if (btn(⬆️)) neoy-=1
	if (btn(⬇️)) neoy+=1

--condition si check-flag 
--renvoi true donc 0	
	if check_flag(0,neox,neoy)
	then --on avance pas 
	else --si pas de flag on avance
	perso.x=mid(0,neox,127)
	perso.y=mid(0,neoy,63)
	--la commande mid fait qu'une fois les intervalles depasser on revien a la valeur du milieu)
	end
	end
	
	function affichage_perso()
	--on cherche a faire avancer le sprite d'une case de 8px par une case
	spr(perso.sprite,perso.x*8,perso.y*8)
	end
__gfx__
0000000033333393cccccccc4444444455555555666666663333333311111111ffffffff333333334444444488888888ddd0ddddddddddd05555555500000000
0080080033933939cccccccc44444444555555556666666633a3333311111111ffffffff333333334444444488888888ddd0dddddddddd0d5555555500000000
0070070039393393cccccccc4444444455555555666666663a3a333311111111ffffffff333333334444444488888888ddd0dddddddddd0d5555555500000000
0007700033933333cccccccc44444444555555556666666633a33333cc111111ffffffff333333334444444488888888ddd0ddddddddd0dd5555555500000000
0007700033333933cccccccc4444444455555555666666663333333311cccc11ffffffff333333334444444488888888ddd0ddddddddd0dd5555555500000000
0070070033939393cccccccc4444444455555555666666663a3333a3111111ccffffffff333333334444444488888888ddd0dddddddd0ddd5555555500000000
0000000039393933cccccccc444444445555555566666666a3a33a3a11111111ffffffff333333334444444488888888ddd0dddddddd0ddd5555555500000000
0000000033933333cccccccc9999999955555555666666663a3333a311111111ffffffff333333334444444488888888ddd0ddddddd0dddd5555555500000000
__gff__
0000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0606060606060606060606060606060c04040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010c0404040a040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0909090909090909090909090909090c04040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0909090909090909090909090909090c04040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0909090909090909090909090909090d04040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0909090909090909090909090909090c04040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0909090909090909090909090909090c0404040a040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030a0a090909090c04040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020303030303030304040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0707070707070707070707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0707070707070707070707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
